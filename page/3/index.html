<!doctype html><html>
<head>
<meta charset=utf-8>
<meta name=generator content="Hugo 0.92.2">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<link href="//fonts.googleapis.com/css?family=Noto+Sans:400,700|Pacifico" rel=stylesheet>
<link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css integrity=sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk crossorigin=anonymous>
<link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css>
<link rel=stylesheet href=https://blog.iberianpig.dev/css/styles.css>
<link rel=stylesheet href=https://blog.iberianpig.dev/css/custom.css>
<link rel=alternate type=application/rss+xml title=RSS href=https://blog.iberianpig.dev/index.xml>
<title>iberianpigsty</title>
<meta property="og:title" content="iberianpigsty">
<meta property="og:type" content="website">
<meta name=description content="iberianpigの技術ブログ">
<meta property="og:url" content="https://blog.iberianpig.dev/">
<meta property="og:image" content="https://secure.gravatar.com/avatar/0cad0568651dbea482d80104ee3bf9b3?size=500">
<meta name=twitter:card content="summary">
<meta name=twitter:site content="@nukumaro22">
<meta name=twitter:creator content="@nukumaro22">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8G6M9151B3"></script>
<script src=https://kit.fontawesome.com/13953638e7.js></script>
</head>
<body>
<header class=l-header>
<div class=p-logo>
<a href=https://blog.iberianpig.dev/>iberianpigsty</a>
</div>
</header>
<div class=container>
<div class=row>
<div class=col-md-9>
<div class=row>
<div class=col-sm-6>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-05-31-linux%E3%81%A7%E3%83%96%E3%83%AB%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%88%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF-%E3%81%9D%E3%81%97%E3%81%A6%E5%BF%AB%E7%9C%A0%E3%81%B8/>
<div class=image style=background-image:url(http://jonls.dk/assets/redshift-icon-256.png)></div>
<footer>
<div class=date>
<div class=time>Sun, May 31, 2015</time>
</div>
<h2 class=title>Linuxでブルーライトフィルタ そして快眠へ...</h2>
<div class=summary>毎日趣味や作業でPCと対面するため、目の疲れや夜の寝不足と行ったことからは免れられない。
少しでも目への負荷を軽減させるべく、なるべく夜はPCを利用しない、利用時間を短くするなどあるが、現実問題難しい。
いくつか対策を考える。
PCメガネ、JINS PC jinsのPC用メガネを使うと目に優しくなれるとのこと。
ここで原因と言われるブルーライトは、寝付きの悪さだけでなく、目の疲れ、肩こり、頭痛などに影響を与えているらしい。
ようはその青い光をフィルタしてしまうメガネが売れているようだ。
メガネを買えばそれで解決、なのかも知れないがハードウェアではなくソフトウェアで解決したい。
Linuxでブルーライトをカット 実はこのブルーライト、色温度を下げることで減量させることができる。
色温度（いろおんど、英語：color temperature）とは、ある光源が発している光の色を定量的な数値で表現する尺度（単位）である。単位には熱力学的温度の K（ケルビン） を用いる。 (http://ja.wikipedia.org/wiki/%E8%89%B2%E6%B8%A9%E5%BA%A6)
実は色温度は青い方が高い。 炎は赤いので赤は温度が高そうだが、実際は炎の先端の青い部分が最も温度が高い。
そう、モニタの色温度をソフトウェアで変更さえすれば良い。 輝度を下げることでブルーライト低減はできるが、色温度を下げることで更に低減させ、PCメガネよりさらに高い効果を目指す。
今回はRedshiftというソフトウェアを試してみた。
Redshift manual page
このソフトウェアを使えば、手持ちのマシンから放たれるブルーライトが低減できる。
Redshift同様のソフトウェアとしてf.luxも試したが、稀にCPU消費量が非常に高くなることがあり、Redshiftは特段バグが無かったのでそのまま利用している。
Redshiftのインストール sudo apt-get install redshift redshift-gtk
パネルのインジケーターに表示させることができる。コマンドラインからの利用の場合、その場合redshift-gtkは必要ない。
Redshiftの起動と設定 redshift-gtkを実行させると、パネル上にインジケーターが出る。
toggleでon/offを切り替え。 autostartで自動起動の設定を切り替え。 詳細な設定内容はコマンドラインや外部ファイルから入力することができる。
こちらのサイトで詳しく紹介されていた。
デフォルトの設定では、日中の色温度はあまり抑えない設定で、夜間はほんのり赤くなり色温度を抑える。([off]6300K, [day]5700K, [night]3600K)
ブルーライトカットの効果 最初は少々赤さが気になるが段々と目が慣れてくると気にならなくなる。設定を元に戻すと眩しく感じる。
ライターさんのLubuntuにRedshift導入した所、目が疲れにくくなったとのフィードバックを得たので効果はあるようだ。
寝付きの悪いLinuxユーザーは是非お試しあれ。</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-6>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-05-04-elementary-os-freya%E3%81%A7%E3%83%8F%E3%82%A4%E3%83%90%E3%83%8D%E3%83%BC%E3%83%88%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B/>
<div class=image style=background-image:url(https://i.ytimg.com/vi/PrFNYW99vSM/hqdefault.jpg)></div>
<footer>
<div class=date>
<div class=time>Mon, May 4, 2015</time>
</div>
<h2 class=title>Elementary OS freyaでハイバネートオプションを追加する</h2>
<div class=summary>少し前からElementaryOSの最新版Freyaを使っている。
電源周りで少し手こずったので、備忘録として残しておく。
インストール後にやったことはまた今度まとめる。
ハイバネートオプションを追加する Elementary OS Freyaでハイバネートが利用できなかったので、利用できるようにする。
※ メモリ領域のデータをディスクに退避することで、作業状態を保存した状態で電源オフにし、電源オンでそこから復帰できる。 サスペンドはメモリに電源供給しながらデータを保持。メモリは揮発性で、電源供給がないとデータが消えてしまうため。
pm-utilsを導入してpm-hibernateコマンドを実行する手もあるが、今回は別の方法で。
電源オプションの中にハイバネートを追加する sudo vi /etc/polkit-1/localauthority/50-local.d/com.ubuntu.enable-hibernate.pkla
下記をコピー&ペースト
[Re-enable hibernate by default in upower] Identity=unix-user:* Action=org.freedesktop.upower.hibernate ResultActive=yes [Re-enable hibernate by default in logind] Identity=unix-user:* Action=org.freedesktop.login1.hibernate ResultActive=yes Grubの設定 sudo vi /etc/default/grub
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash resume=/dev/sda3" resume=&lsquo;スワップ用パーティション&rsquo;とすること！
Grubの更新 sudo update-grub
これでシャットダウンのオプションなどで、休止状態(もしくはハイバネート)が増えているはず。
ノートPCを閉じた時にハイバネーションを有効にしたい && ロック画面でのPowerボタンの挙動を変える 自分の場合はロック画面の状態（だがディスプレイオフ）で電源を押して復帰しようとして、シャットダウンしてしまう現象に悩まされていた デフォでこの動作はバグと言っていい気がする。あとノートPCなので、急なとき閉じて移動、などあるのでその際はハイバネートできたほうが良い。
/etc/systemd/logind.confの編集 man logind.conf で確認したところ、HandlerPowerKeyやHandleLidSwitchなど、電源周りの挙動を変えられるようだった。
sudo vi /etc/systemd/logind.confにて該当箇所のコメントアウトを外し、 下記に変更する
HandlePowerKey=hibernate HandleLidSwitch=hibernate 再起動後、ロック画面での電源ボタン、 PCの閉じる動作によるハイバネートが有効になっているはず。</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-6>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-04-21-sp%E3%81%A8oc-%E4%BC%81%E6%A5%AD%E6%88%A6%E7%95%A5/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Tue, Apr 21, 2015</time>
</div>
<h2 class=title>SPとOC-企業戦略-</h2>
<div class=summary><p>会社の方針決めるために、企業戦略のたて方についての勉強する。</p>
<p>教材は<code>ストーリーとしての競争戦略</code>、から。</p>
<h1 id=戦略には優劣がある>戦略には優劣がある</h1>
<p>打率2.5割の打者に戦略Aを施すと3割<br>
打率2.5割の打者に戦略Bを施すと3.5割</p></div>
</footer>
</a>
</article>
</div>
<div class=col-sm-6>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-04-19-insert-mode%E3%81%A7vim%E3%81%AE%E3%82%AB%E3%83%BC%E3%82%BD%E3%83%AB%E3%82%AD%E3%83%BC%E5%BD%A2%E7%8A%B6%E3%82%92%E5%A4%89%E3%81%88%E3%81%A6%E5%B9%B8%E3%81%9B%E3%81%AB%E3%81%AA%E3%82%8B/>
<div class=image style=background-image:url(http://i.gyazo.com/523d7f4dc324943c6d55f00b69f4fa8b.png)></div>
<footer>
<div class=date>
<div class=time>Sun, Apr 19, 2015</time>
</div>
<h2 class=title>insert-modeでvimのカーソルキー形状を変えて幸せになる(gnome-terminalの場合)</h2>
<div class=summary>Command/Normalモードを間違う 問題はこれ。
頻繁にどちらのモードかを勘違いしてしまってタイプミスをしてしまう。
自分はgnome-terminal上でVimを使っている。tmuxなどターミナルマルチプレクサとの共存が必要だからだ。
gVimではカーソル形状が矩形と'｜'が切り替わるのだが、ターミナル上では制限があって、調べたところ簡単ではなかった。
暫定策 代替案として、 lightline.vimを使ってInsert/Normalモードの状態を色付きで 画面下部に表示し、視覚的に理解しやすいように試みた。
確かにわかりやすいが、画面の端の色なので、気づかずにミスタイプになることも多い。
また、横のラインを表示・非表示を( autocmd InsertEnter,InsertLeave * set cursorline! )で切り替える アプローチも試みたが、モード間違いは大きく改善はしなかった。
救世主 これまでかと思った矢先に、救世主が現れた(stackoverflowで記事を見つけた)
To change the shape of the cursor in different modes, you can add the following into your vimrc. For the Gnome-Terminal (version 2.26)Edit
if has("autocmd")au InsertEnter * silent execute "!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape ibeam"au InsertLeave * silent execute "!gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_shape block"au VimLeave * silent execute "!</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-04-13-angular%E3%81%A7%E3%81%AEdom%E3%81%B8%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Mon, Apr 13, 2015</time>
</div>
<h2 class=title>AngularでのDOMへのアクセス</h2>
<div class=summary>AngularがDOMのdata-x属性の値を取得する必要があったのでメモ。
今回はdata-x属性内のハッシュ構造のデータを取り出す必要があった。
&lt;SELECTOR data-x = '{"id":"123", "name":"hoge"}'...>というDOM要素が存在した時
str = angular.element('SELECTOR').attr('data-x')のような形式でデータを取得することができる。
しかしこの状態ではstrはただの文字列として取得した状態なので、ハッシュを取り出すにはパースしてあげる必要がある。
hashed_data = angular.fomJson(str)
これでhashed_data = {"id":"123", "name":"hoge"}が取得できる。</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-03-21-ng-japan/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Sat, Mar 21, 2015</time>
</div>
<h2 class=title>ng-japan</h2>
<div class=summary>Angualrjsの日本初のカンファレンスng-japan2015 が渋谷で2015/03/21にあったので行って来た。
場所はサイバーエージェント。以前参加した勉強会もここでやってた気がする。
毎度の通り、最初の1個目のセッションはあんまり聞けなかった。
結構人がいて定員500名の会場が普通に埋まってた
こんなかんじ↓
すごい人！ ng-japan venue is packed! #ng_jp pic.twitter.com/Cb1Zfn9Q63
&mdash; Eiji Kitamura (@agektmr) 2015, 3月 21 今回アシアルの田中さんのセッションが個人的に面白かったのでそちらにフォーカスして書いています。
onsen-uiのはなし AngularとOnsen UIで作る最高のHTML5ハイブリッドアプリ
HTML5ハイブリッドアプリとは ネイティブのアプリとは違って、View部分をHTMLで記述。 ネイティブ層、HTML5層があって内部はHTML5で作っている。
アプリ内ではWebviewを利用している。
###メリット
クロスプラットフォーム性 ネイティブ機能をJsから呼び出し ハイブリッド用のCordovaから呼び出し OSからのAPI呼び出しを一本化する ###色々メリットはあるがしかし…
ハイブリッドアプリは作ってみたものの&mldr; Facebookでザッカーバーグの発言。&ldquo;HTML5にかけたのは失敗&rdquo; ###しかし状況は変わってきた
モバイルの高速化 CrossWalkだったり、ChromiumがWebviewに使われたり。 DHH（Rails作者）によるハイブリッドアプリに関する好評 ###デメリット
UIコンポーネントが標準で持っていない チューニングの方法が難しい ##チューニングの方法
インスペクタのTimelineタブで計測 AndroidではChrome・iOSではsafariのinspecter タイムラインタブのカテゴリの説明（図） 描画が始まって16ms以下に抑えると60fps以上出る 逆にそれ以上だしてもディスプレイが追いつかない チューニング対象となる5つのフェーズ Loading リソースの読み込みやパース 組み込みなのであんまやることない Scripting JavaScriptの実行時間。純粋な計算は基本的に問題なし。 リフロー、Canvasへの命令など時間はかかる ProfileTabで簡単にわかる Rendering レイアウト処理 再計算(Recaluculate Style) CSS OMを参照してDOM*CSSルールの数分マッチング処理が走る。 使ってないCSSのルールマッチングの文だけ遅くなる 重たいCSSのセレクタの書き方 子孫セレクタやめたほうがいい クラスで指定する書き方が速い 使ってないCSSのルールは消す。 Layout すべてのDOMのレイアウト情報を計算 計算された結果の視野的なオブジェクトのツリーがレンダリングツリー Painting 描画処理 DisplayListの生成 Rasterize ピクセル化 CompositeLayeers レイヤの合成 雑多なチューニングの小話 translate3d(0,0,0)が早いのはなぜ？ GPUで描画されるから?</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-02-13-apachecordova%E5%8B%89%E5%BC%B7%E4%BC%9A/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Fri, Feb 13, 2015</time>
</div>
<h2 class=title>ApacheCordova勉強会第4回</h2>
<div class=summary>ApacheCordova勉強会第4回 AdobeからPhonegap開発チームの方々が来られていた。
以下雑なメモ。
セッション1：米Adobe PhoneGapチーム【逐次通訳】 Adobeの人(Adobeに買収された開発チームの方)のセッション。英語同時翻訳。(ありがとうございました)
パフォーマンス問題としていいニュース
Apple、GoogleともにWebViewの高速化が進む Appleもなんか出したらしい AndroidのはおなじみCrossWalk projectの事 Why Phonegap?
CrossPlatforms ProjectSpeed UI Native functions Update from Web Appstoreを通さないアップデートができるとのこと ( てか、それいいの？　) Plugin support ShowCase ( PhonegapAppStoreで見れるよ )
BankOfAmerica Sabre - TripCase(HTML5/JSでゴリゴリ書いてるらしい) Untappd Sworkit Large Home Store Instagram・Evernoteなどはハイブリッドアプリ(割合とかは言ってなかった) BaseCampもHybrid ほとんどがHTML5ベース Rails作者、 DHHも情報が多いアプリだとHybridは向いているとのコメントを寄せていた PhoneGap Enterpriseについて Adobeのマネタイズのはなし ダッシュボードでメタデータ統計など利用可能 マーケの人が(コンテンツなどを)管理画面から簡単に更新可能 セッション2： Visual Studioを使用したCordova開発 MSの方の話。主にVisualStudioの話でしたので話半分にしか聞けていません。。。</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-01-26-cordova%E5%8B%89%E5%BC%B7%E4%BC%9A%E7%AC%AC3%E5%9B%9E/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Mon, Jan 26, 2015</time>
</div>
<h2 class=title>Cordova勉強会第3回行ってきた</h2>
<div class=summary>Codova勉強会行ってきた だがしかし&mldr;
参加時刻20:17 ほとんど遅刻してアレ (19:00-21:00 at IIJさん) ビールとポテチもらいながら最後のセッション聞く感じになりました。 デスクトップアプリマルチOS対応 with HTML5 対象の人は以下の人
デスクトップアプリ作りたい いろんなディスプレイサイズ辛い パフォーマンスそんな求めてない C#よりJSやりたい うん。多分そんなところかも。
Destkop用のネイティブ言語を扱えない人も結構多そう。
3つのやりかた 下記のやり方があるらしい。
Mozilla XULRunner Cordova NW.js(Node-Webkit) あと質疑応答でアシアルの人がAtom-shellっていうのが最近あるよと言ってた。
なんかMonacaのローカルもそれ使うとか何とか（よくわかってない）
Mozilla XULRunner 一番シンプルで古株なやつ エンジンGecko GeckoはHTML5だけじゃなくてXULというマークアップを動かせる セガ版Xamarinのような存在（?） 名前はXULだけど中身GeckoなのでHTML5が使える これ知らなかった。 あとオワコン(HTML5に置き換えてる今から使うなとMozillaの中の人に言われたw)らしい
Cordova 3つの中で一番発展してる エンジンがTrident(Win)らしい ビルドツール プラグインで機能を足しやすいらしい Win版の環境がだいぶ残念とのこと言っていたけど、よくわからなかった
NW.js(Node-Webkit) What is NW.js 3種の中で若造らしい Node.js + Web標準でデスクトップを作ることができるよ XULRUNNERとCorovaのいいどこどり?らしい どうする デスクトップはNW.</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2015-01-03-%E4%BB%8A%E3%82%84%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%93%E3%81%A82014%E5%B9%B4%E3%81%A82015%E5%B9%B4/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Sat, Jan 3, 2015</time>
</div>
<h2 class=title>今やっていること, 2014年と2015年</h2>
<div class=summary>あけましておめでとうございます 久々更新過ぎて、書き方忘れてた。。。
octopressのテンプレートにマークダウンで書いて、それをpushするというフローでやっていたんだけど、 そのvimのプラグインのコマンドを忘れてなんだっけとしばらく考える程度に放置してた。ガンバロウ。
また、正月早々風邪を引いてしまって、これが中々治る気配がないという。。。
あまりイケてないスタートになってしまった。
2014年何をやったか。何を身につけたか 自身の棚卸をしていくことにする。
3月に前職を退職。
作れる技術をもったエンジニアになろうと思い、大手電機メーカーのSEを辞めた。
プログラミングには興味があったけれども、Webのコピー&ペーストでしか何かを動かしたことがないので自分で作るといったこととは あながち離れたところにいた。サンプルがないと死ぬみたいな感じ。
割と前職ではプログラミングわかる人とということになってたけど、本人の中での理想と現実のギャップは大きく、 何かを作っているはずが何も作ってないエンジニアとして嫌気が差していた。
自分が欲しい物は自分で作りたいという強い欲求はあったが、誰にも教えられるほどの知識・スキルがなかった。
どれから身に付けるかと考えた時に、
WEBは息が長い、きっと様々なモノのI/FとしてWEBが生きるはず。
しかしながら今皆使っているのはモバイル。
と思った。
Web技術 モバイルアプリ これらをひと通り作れるようになろうと決めた。
やったこと 2014年、とりあえず人並みにまでを目標に、自分で学んでみた。 下記の技術を中心に学習した。
Ruby on Rails AngularJS Android(Java) 1年前の自分だったらちょっと重いから1つずつやろうか。などと諭していそう気がする。
独学で勉強したり、勉強会におせわになったり、ベンチャー企業のお世話になったり。
逆に学んだことをシェアハウスの住人や知り合いに教えてみたり。
そんなこんなでいつの間にか、志して1年を迎えてしまった。
その結果、どれも不完全な感じで終わってしまった気がする。
まだまだどれも伸びしろ十分(笑) 一番身についたのはRailsかな。
AngularJS周りで少し色目を出して、秋ごろにionicをベースにWebRTCのP2PビデオチャットのAndroidアプリを作ってみたりした。
最後にAndroid Nativeで作らなかったのは本気でAndroid/Javをa学ぶ気力が足りていなかった説は大いにあり得る。。
結果どうあったにせよ、プログラミング言語的なコンプレックスは自分からは大いに取り除かれたので、それはそれで大いに良かった。
2015年やりたいこと プログラミング言語的コンプレックスは抜けた。しかしながら英語、貴様はまだだ！
という事で、プログラミング以外に英語の学習を重点的に行なっていくようにしたいと思う。
海外で1・2年は仕事しながら住んでみたいという憧れがあることがひとつ。
そして、エンジニアとして先端を走るときにドキュメントは必ず英語として立ちはだかる、 もしくは公式ドキュメントはStack Overflow!なんてことはザラ。
エンジニア目線としても英語はぜひコンプレックスをなくしていきたい所存。
やろうと思っていること フィリピン留学 ビデオチャットで英会話 つなぎのtoeicの学習 2014年の伸びしろを埋めていく作業を続けながら英語を学んでいく。
自作のビデオチャットアプリで英会話することが今年の密かな目標です
(ブログの更新はハードル高そうなので一応含んでいませんw)</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2014-09-12-twitterbootstrap%E3%81%A7navbar%E3%81%8C%E3%83%A2%E3%83%90%E3%82%A4%E3%83%AB%E8%A1%A8%E7%A4%BA%E3%81%AB%E3%81%AA%E3%82%89%E3%81%AA%E3%81%84/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Fri, Sep 12, 2014</time>
</div>
<h2 class=title>twitterbootstrapでnavbarがモバイル表示にならない</h2>
<div class=summary>mobileデバイス用のViewが768pxの際に切り替えが行われない。 PCブラウザ上では、サイズ変更時にViewが変わったが、実機やDeveloper toolでのエミュレーションでは適用されなかった。
&lt;meta name="viewport" content="width=device-width, initial-scale=1"> つまるところ、これをhtmlのヘッダに下記を書き込んで置かないと行けなかった。 小一時間使ってしまった。
ご参考(http://getbootstrap.com/css/#overview-mobile)
Mobile first With Bootstrap 2, we added optional mobile friendly styles for key aspects of the framework. With Bootstrap 3, we&rsquo;ve rewritten the project to be mobile friendly from the start. Instead of adding on optional mobile styles, they&rsquo;re baked right into the core. In fact, Bootstrap is mobile first. Mobile first styles can be found throughout the entire library instead of in separate files.</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2014-09-11-rspec%E3%81%A7%E3%81%AA%E3%81%9C%E3%81%8B%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E5%A4%89%E6%95%B0%E3%81%8C%E5%8F%82%E7%85%A7%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E6%99%82/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Thu, Sep 11, 2014</time>
</div>
<h2 class=title>Rspecでインスタンス変数が参照できない</h2>
<div class=summary>Rspecの世界からController内メソッドでインスタンス変数@hogeを利用した場合は、 直接Rspecからインスタンス化された@hogeは別物である。
まず、この事実を理解すべきだった。
Controllerの中の値をテストする Rspec側からRailsのController側でインスタンス化された値を評価する場合はassigns(:hoge)で参照するとよい。
また、RspecからDBアクセスして取り出す方法もあるのでこちらも忘れずに。
expect(Model.last.name).to eq 'modelname'で評価する。
どちらもどのような値がアサインされていればよいのかを意識してテストを書く。
その他 itブロック・contextブロック・describeブロックの中で定義した変数のスコープはその中に限る。
そのため、スコープを飛び越えて同じ値を扱うためにはインスタンス変数を利用する必要がある。
はじめてのテストということでハマってしまった。
テストではRailsの世界の変数か、Rspecの世界の変数なのかを明確に意識する必要があった。
実行中のプログラム内なのか、その外なのかを常に意識する。
RequestヘッダをRspecで作ってそれをRailsに投げる。
Railsの中のController内で、どのような値がアサインされるかテストする。
どの世界の値を取得して何と比べるのか。
何をテストすべきかを意識していれば回避できる問題。</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2014-09-11-vim%E3%81%A7%E6%8A%98%E3%82%8A%E3%81%9F%E3%81%9F%E3%81%BF%E3%81%97%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Thu, Sep 11, 2014</time>
</div>
<h2 class=title>vimで折りたたみしないようにする</h2>
<div class=summary>Vimの折りたたみをしない設定 いつも+++とかrspecをvim上で表示したり、markdownでブログ書いたりとかしてる時に 毎回折りたたみ開くのが面倒だったので、いっそ折りたたみしないことにした。
set foldmethod=syntax let perl_fold=1 set foldlevel=100 special thanks vimの折りたたみ設定</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2014-09-02-vim-surround/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Tue, Sep 2, 2014</time>
</div>
<h2 class=title>vim-surround</h2>
<div class=summary>テキストオブジェクトを利用してその周りを囲ったり、周りについてるクォーテーション、括弧を一発でつけたり外したりできる
すぐに忘れてしまうのでメモ
よく使うコマンド コマンド 実行内容 cs({ (を{に置き換える csw" 単語の外側を"で囲む ci" "で囲われた部分を消去し、入力状態に ci" "で囲われた部分を消去し、入力状態に いつも忘れるコマンド コマンド 実行内容 dst tagで囲われた部分を消去 yss" "で行を囲む yss= &lt;%=で行を囲む(vim-rails必須) yss- &lt;%で行を囲む(vim-rails必須) dst tagで囲われた部分を消去 選択状態でS" "で選択範囲を囲む </div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2014-08-14-sharedpreferences/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Thu, Aug 14, 2014</time>
</div>
<h2 class=title>Androidでのデータの保存</h2>
<div class=summary>データの保存 SharedPreferenceの利用 Androidアプリでデータを保存する方法のひとつ データをキーと値の組み合わせで保存 ファイルなどに保存するよりも非常に簡単にデータを保存可能
ただし大規模なデータには向かず、設定項目向き。
使い方 SharedPreferences はgetSharedPreferences(String name, int mode); でを取得。 name は Preference 自体の名前指定 mode には Activity.MODE_PRIVATE Activity.MODE_WORLD_READABLE Activity.MODE_WORLD_WRITEABLE などを指定
モードについては後述。
SharedPreferences pref = getSharedPreferences(PREF_NAME, MODE_PRIVATE);
SharedPreferencesのインスタンスをgetSharedPreferencesで取得し、 editメソッドでEditorクラスのインスタンスを呼び出す。 そのEditorクラスにputXxxxメソッドを使って値を対応させる 最後にcommitメソッドで格納する
// プリファレンスに保存 Editor editor = pref.edit(); editor.putString(KEY_TEXT, s); // KEY, VALUEの組み合わせで保存 editor.commit(); 保存される場所 保存された Preference は data/data/パッケージ名/shared_prefs の中に xmlファイルとして保存される
データの取得 getXxxx(String key, Xxxx defValue)のkey, value形式で取得する。
getString(String key, String defValue); getInt(String key, int defValue); getLong(String key, long defValue); データ型 下記のデータ型がXMLに保存される</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2014-08-22-listview-and-http-connection/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Fri, Aug 1, 2014</time>
</div>
<h2 class=title>ListView and http connection</h2>
<div class=summary>雑多メモ Railsで作ったサーバとHttpでCRUDなおしゃべりをするアプリを作った時に調べたメモ達
レイアウトをJava側で生成する LinearLayout linearLayout = new LinearLayout(this); linearLayout.setOrientation(LinearLayout.VERTICAL); setContentView(linearLayout);` レイアウトに要素を追加する Button button1 = new Button(this); button1.setText("OK"); button1.setLayoutParams(new LinearLayout.LayoutParams( LinerLayout.LayoutParams.MATCH_PARENT, LinerLayout.LayoutParams.WRAP_CONTENT)); linearLayout.addView(button1);` AddViewメソッド 「LinearLayout」クラスの親クラスである「ViewGroup」クラスで用意されている「addView」メソッドを使います。
public void addView(View child, LayoutParams params) Adds a child view with the specified layout parameters.
Parameters: child: the child view to add params: the layout parameters to set on the child
LinearLayout.LayoutParamsクラス
「android.widget.LinearLayout.LayoutParams」クラスは「android.view.ViewGroup.LayoutParams」クラスのサブクラスです。コンストラクタの1つのは次のようになっています。
LayoutParams public LinearLayout.LayoutParams(int w, int h) 他のビューに対する相対位置の指定(addRule) このビュー自身のサイズに関する設定の他に、別に追加されたビューに対する位置関係を設定することが出来ます。「RelativeLayout.</div>
</footer>
</a>
</article>
</div>
<div class=col-sm-4>
<article class=grid>
<a href=https://blog.iberianpig.dev/posts/2014-07-23-send-data-on-intent-to-call-activity/>
<div class=image style=background-image:url(https://blog.iberianpig.dev//images/default.jpg)></div>
<footer>
<div class=date>
<div class=time>Wed, Jul 23, 2014</time>
</div>
<h2 class=title>send data on Intent to call activity</h2>
<div class=summary>#Activityとは
Androidの画面単位の概念 一つのアクティビティに対してクラス一つが割り当てされる
&ndash;>1つのXML(Viewテンプレート)と1つのJavaクラス(Activity)が必要となる
#Intentとは
インテントというのは簡単に言えばアクティビティなどが他のアクティビティやアプリケーションなどと情報のやり取りを行うための箱のようなものです。インテントという箱には、相手先や届けたい情報などが含まれています。
アクティビティから他の指定したアクティビティへインテントを送ることがあります。例えば他の画面を表示したい場合などです。
(参考:　http://www.javadrive.jp/android/intent/index1.html)
##暗黙的インテントと明示的インテント
どの機能を呼び出すかをあらかじめ指定して直接それを起動することを「明示的インテント」(explicit intent)、何をしたいかは明示せずに漠然とそのデータに対して実行できる機能の一覧を要求することを「暗黙的インテント」(implicit intent)という。
(参考: http://e-words.jp/w/E382A4E383B3E38386E383B3E38388.html)
##どうやって起動するのか
インテントのアクションとは、あるオブジェクトが他のオブジェクトを起動する際に、何をしたいのかを指すための指定です。ここでいうオブジェクトはActivityやサービスのことを指します。
アクションを指定するには、Intentクラスのコンストラクタで指定するか、もしくはIntentクラスのsetActionメソッドを使って指定します。### また、指定するアクションはすべてIntentクラスの遷移元への値の渡し方と受け取り方定数として定義されていますので、該当な定数を使ってアクションを以下のように指定します。
// アクションを指定してインテントのインスタンス生成 Intent intent = new Intent(Intent.ACTION_MAIN); // 次画面のアクティビティ起動 startActivity(intent); インテントをnew Intentしてそれを**startActivity()**の引数に入れて起動するらしい。
StartActivityとは 同一アプリ内の画面を呼び出すときは明示的Intentを作成する。そして**startActivity()の引数として引き渡すことでそれを実現する。ただし、この挙動は一方通行のようなもの。呼び出し元の情報を返して欲しいときはstartActivityForResult()**を使う。
また、アクションには「アクティビティアクション」と「ブロードキャストアクション」があります。
###アクティビティアクション
アクティビティアクションとは、他のアクティビティを起動する際に、何をしたいのかを示すためのアクションです。具体的には以下のものがあります
アクション 機能 ACTION_MAIN メインエントリーポイントとしてアクションを起動する。データを戻すことができない。 ACTION_VIEW データをユーザに表示するためにアクションを起動する。 ACTION_ATTACH_DATA 別の場所にデータが添付されていることを示す。 ACTION_EDIT データを編集するためにアクションを起動する。 ACTION_PICK データの中からアイテムを選択するためにアクションを起動する。選択されたアイテムを受け取る。 ACTION_CHOOSER 起動するActivityを選択するチューザーをユーザに示し、選択してもらう。 ACTION_GET_CONTENT 指定した種類のデータをユーザに選択、もしくは作成してもらう。 ACTION_DIAL データで指定した番号を電話番号として設定する。データを指定しなければ、ユーザがその場で設定する。電話をかける操作はユーザに任せる。 ACTION_CALL データで指定した人に電話をかける。データを指定しなければ、ユーザがその場で指定した番号に電話をかける。 ACTION_SEND 別の人にデータを送信する。データの宛先は指定しない。このIntentを受け取ったアクションが、ユーザに宛先を問う。 ACTION_SENDTO データによって指定された人にメッセージを送信する。 ACTION_ANSWER かかってきた電話に対処するアクションを起動する。 ACTION_INSERT データに含まれるURIが示すディレクトリに秋のデータを挿入する。 ACTION_DELETE データに含まれるURIが示すデータをコンテナから削除する。 ACTION_RUN データを起動する。その意味はデータの種類によって異なる。 ACTION_SYNC データの同期を実行する。 ACTION_PICK_ACTIVITY Intentが与えられるActivityを選択し、そのクラスを返す。 ACTION_SEARCH 検索を実行する。 ACTION_WEB_SEARCH WEB検索を実行する。 ACTION_FACTORY_TEST デバイスが工場検査モードで起動する際にだけ実行される工場検査のメインエントリポイントとして起動する。 ブロードキャストアクション ブロードキャストアクションとは、なんらかのイベントが発生したことを他のオブジェクトに知らせる際に指定するアクションです。</div>
</footer>
</a>
</article>
</div>
</div>
<div class=row>
<div class=col-md-12>
<nav class="p-paging float-right">
<a href=https://blog.iberianpig.dev/page/2/ rel=nofollow>PREV</a>
<a href=https://blog.iberianpig.dev/page/4/ rel=nofollow>NEXT</a>
</nav>
</div>
</div>
</div>
<div class=col-md-3>
<aside class=site>
<section>
<header>Latest Posts</header>
<div><article class=li>
<a href=https://blog.iberianpig.dev/posts/2025-02-05_tailscale_serve%E3%81%A8tailscale_funnel/ class=clearfix>
<div class=image style=background-image:url(https://i.gyazo.com/f8067d064e763c3c9a0f16c18fe2dd6c.png)></div>
<footer>
<div class=date>
<div class=time>Wed, Feb 5, 2025</div>
</div>
<h2 class=title>tailscale serveとtailscale funnel</h2>
</footer>
</a>
</article>
<article class=li>
<a href=https://blog.iberianpig.dev/posts/2024-03-11_migrate_from_authy/ class=clearfix>
<div class=image style=background-image:url(https://i.gyazo.com/2b59469c61ee89377043ba87e101bbcd.png)></div>
<footer>
<div class=date>
<div class=time>Sun, Mar 10, 2024</div>
</div>
<h2 class=title>Authy Desktopが終了するので秘密鍵を抽出して他ツールへ移行する</h2>
</footer>
</a>
</article>
<article class=li>
<a href=https://blog.iberianpig.dev/posts/2023-11-20_vimconf_2023_tiny%E3%81%AB%E8%A1%8C%E3%81%A3%E3%81%A6%E3%81%8D%E3%81%9F/ class=clearfix>
<div class=image style=background-image:url(https://i.gyazo.com/b38a6595852d4d96994a114bb489eff6.png)></div>
<footer>
<div class=date>
<div class=time>Mon, Nov 20, 2023</div>
</div>
<h2 class=title>VimConf 2023 Tinyに行ってきた</h2>
</footer>
</a>
</article>
<article class=li>
<a href=https://blog.iberianpig.dev/posts/2023-09-06_thumbsense_is_new_fusion_of_keyboard_and_touchpad/ class=clearfix>
<div class=image style=background-image:url(https://i.gyazo.com/f1287b6c6ef727356b43ded17601e651.png)></div>
<footer>
<div class=date>
<div class=time>Wed, Sep 6, 2023</div>
</div>
<h2 class=title>キーボードとタッチパッドをシームレスに統合するThumbSense</h2>
</footer>
</a>
</article>
<article class=li>
<a href=https://blog.iberianpig.dev/posts/2023-05-17_rubykaigi2023/ class=clearfix>
<div class=image style=background-image:url(https://i.gyazo.com/9278c279e0a7118a58c54f57d3fac995.jpg)></div>
<footer>
<div class=date>
<div class=time>Wed, May 17, 2023</div>
</div>
<h2 class=title>RubyKaigi 2023に登壇してFusumaについて話した</h2>
</footer>
</a>
</article>
</div>
</section>
<section class=taxonomies>
<header class=taxonomies__header>tag</header>
<div class=taxonomies__body>
<ul>
<li><a href=https://blog.iberianpig.dev/tags/linux/>linux</a></li><li><a href=https://blog.iberianpig.dev/tags/ruby/>ruby</a></li><li><a href=https://blog.iberianpig.dev/tags/vim/>vim</a></li><li><a href=https://blog.iberianpig.dev/tags/libinput/>libinput</a></li><li><a href=https://blog.iberianpig.dev/tags/elementaryos/>elementaryos</a></li><li><a href=https://blog.iberianpig.dev/tags/rails/>rails</a></li><li><a href=https://blog.iberianpig.dev/tags/ubuntu/>ubuntu</a></li><li><a href=https://blog.iberianpig.dev/tags/git/>git</a></li><li><a href=https://blog.iberianpig.dev/tags/android/>android</a></li><li><a href=https://blog.iberianpig.dev/tags/javascript/>javascript</a></li>
</ul>
</div>
</section>
<section class=author>
<header class=author__header> About Me</header>
<div class=author__body>
<div class=aboutme>
<div class=aboutme__icon>
<i class="fas fa-piggy-bank fa-lg"> Kohei Yamada</i>
</div>
自分が便利そうだと思ったものを作っています。Linux/Ruby/Vim が好きです。
</div>
<div class=contact>
<a target=_blank href=https://github.com/iberianpig><i class="fab fa-github"></i> https://github.com/iberianpig</a>
<a target=_blank href=https://twitter.com/nukumaro22><i class="fab fa-twitter"></i> https://twitter.com/nukumaro22</a>
</div>
<div class=aboutwork>
<div class=aboutwork__icon>
<i class="fas fa-laptop-code fa-lg"> Work</i>
</div>
スタートアップ企業の技術支援をしています。お仕事のご相談はメールかX(Twitter)でご連絡ください。
</div>
<div class=contact>
<a target=_blank href=mailto:yhkyky+work@gmail.com><i class="fas fa-envelope"></i> yhkyky+work@gmail.com</a>
</div>
</div>
</section>
</aside>
</div>
</div>
</div>
<footer class=l-footer>
<p>Copyright (c) iberianpigsty; all rights reserved.</p>
<p>Powered by <a href=http://gohugo.io target=_blank rel=nofollow>Hugo</a>, Theme <a href=https://github.com/dim0627/hugo_theme_robust target=_blank rel=nofollow>robust</a> designed by <a href=http://yet.unresolved.xyz target=_blank rel=nofollow>Daisuke Tsuji</a></p>
</footer>
<script data-no-instant src=//code.jquery.com/jquery-3.1.1.min.js></script>
<script src=https://code.jquery.com/jquery-3.5.1.slim.min.js integrity=sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js integrity=sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI crossorigin=anonymous></script>
<script data-no-instant src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js></script>
<script data-no-instant src=https://blog.iberianpig.dev/javascripts/instantclick.min.js></script>
<script data-no-instant>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}InstantClick.on('change',function(a){gtag('js',new Date),gtag('config','G-8G6M9151B3',{page_location:location.href})}),InstantClick.on('change',function(c){for(var b=document.querySelectorAll('pre code'),a=0;a<b.length;a++)hljs.highlightBlock(b[a])}),InstantClick.init()</script>
</body>
</html>