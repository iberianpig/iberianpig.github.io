<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux Elementaryos on iberianpigsty</title>
    <link>http://iberianpig.github.io/categories/linux-elementaryos/</link>
    <description>Recent content in Linux Elementaryos on iberianpigsty</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <copyright>Copyright (c) 2014 - 2016, iberianpigsty; all rights reserved.</copyright>
    <lastBuildDate>Mon, 04 May 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://iberianpig.github.io/categories/linux-elementaryos/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Elementary OS freyaでハイバネートオプションを追加する</title>
      <link>http://iberianpig.github.io/posts/2015-05-04-elementary-os-freya%E3%81%A7%E3%83%8F%E3%82%A4%E3%83%90%E3%83%8D%E3%83%BC%E3%83%88%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B/</link>
      <pubDate>Mon, 04 May 2015 00:00:00 +0000</pubDate>
      
      <guid>http://iberianpig.github.io/posts/2015-05-04-elementary-os-freya%E3%81%A7%E3%83%8F%E3%82%A4%E3%83%90%E3%83%8D%E3%83%BC%E3%83%88%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%99%E3%82%8B/</guid>
      <description>

&lt;p&gt;少し前からElementaryOSの最新版Freyaを使っている。&lt;br /&gt;
電源周りで少し手こずったので、備忘録として残しておく。&lt;br /&gt;
インストール後にやったことはまた今度まとめる。&lt;/p&gt;

&lt;h1 id=&#34;ハイバネートオプションを追加する:c8d472f69fc412cae198361bfb8e36f4&#34;&gt;ハイバネートオプションを追加する&lt;/h1&gt;

&lt;p&gt;Elementary OS Freyaでハイバネートが利用できなかったので、利用できるようにする。&lt;br /&gt;
※ メモリ領域のデータをディスクに退避することで、作業状態を保存した状態で電源オフにし、電源オンでそこから復帰できる。
サスペンドはメモリに電源供給しながらデータを保持。メモリは揮発性で、電源供給がないとデータが消えてしまうため。&lt;/p&gt;

&lt;p&gt;pm-utilsを導入してpm-hibernateコマンドを実行する手もあるが、今回は別の方法で。&lt;/p&gt;

&lt;h2 id=&#34;電源オプションの中にハイバネートを追加する:c8d472f69fc412cae198361bfb8e36f4&#34;&gt;電源オプションの中にハイバネートを追加する&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;sudo vi /etc/polkit-1/localauthority/50-local.d/com.ubuntu.enable-hibernate.pkla&lt;/code&gt;&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;下記をコピペ&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[Re-enable hibernate by default in upower]
Identity=unix-user:*
Action=org.freedesktop.upower.hibernate
ResultActive=yes

[Re-enable hibernate by default in logind]
Identity=unix-user:*
Action=org.freedesktop.login1.hibernate
ResultActive=yes
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;grubの設定:c8d472f69fc412cae198361bfb8e36f4&#34;&gt;Grubの設定&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;sudo vi /etc/default/grub&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;quiet splash resume=/dev/sda3&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;resume=&amp;lsquo;スワップ用パーティション&amp;rsquo;とすること！&lt;/p&gt;

&lt;h3 id=&#34;grubの更新:c8d472f69fc412cae198361bfb8e36f4&#34;&gt;Grubの更新&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;sudo update-grub&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;これでシャットダウンのオプションなどで、&lt;code&gt;休止状態&lt;/code&gt;(もしくは&lt;code&gt;ハイバネート&lt;/code&gt;)が増えているはず。&lt;/p&gt;

&lt;h1 id=&#34;ノートpcを閉じた時にハイバネーションを有効にしたい-ロック画面でのpowerボタンの挙動を変える:c8d472f69fc412cae198361bfb8e36f4&#34;&gt;ノートPCを閉じた時にハイバネーションを有効にしたい &amp;amp;&amp;amp; ロック画面でのPowerボタンの挙動を変える&lt;/h1&gt;

&lt;p&gt;自分の場合はロック画面の状態（だがディスプレイオフ）で電源を押して復帰しようとして、シャットダウンしてしまう現象に悩まされていた
デフォでこの動作はバグと言っていい気がする。あとノートPCなので、急なとき閉じて移動、などあるのでその際はハイバネートできたほうが良い。&lt;/p&gt;

&lt;h2 id=&#34;etc-systemd-logind-confの編集:c8d472f69fc412cae198361bfb8e36f4&#34;&gt;/etc/systemd/logind.confの編集&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;man logind.conf&lt;/code&gt; で確認したところ、HandlerPowerKeyやHandleLidSwitchなど、電源周りの挙動を変えられるようだった。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;sudo vi /etc/systemd/logind.conf&lt;/code&gt;にて該当箇所のコメントアウトを外し, 下記に変更する&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;HandlePowerKey=hibernate
HandleLidSwitch=hibernate
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;再起動後、ロック画面での電源ボタン, PCの閉じる動作によるハイバネートが有効になっているはず。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>